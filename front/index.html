<!DOCTYPE html>
<html>
<head>
    <!-- Standard Meta -->
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <!-- Site Properties -->
    <title>Emulator Output</title>

    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/components/reset.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/components/site.min.css">

    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/components/container.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/components/divider.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/components/grid.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/components/header.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/components/form.min.css">
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/components/table.min.css">
</head>
<body>

<br>


<div class="ui text container" div ng-app="myApp" ng-controller="myCtrl">

    <h1 class="ui dividing header">Emulator Results</h1>

    <!-- <h3 class="first">Column Flow</h3> -->
    <p>These are the results of a RAFT Leader Election process simulation which displays different properties.
    <ul>
    <li>raft_messages_count: number of messages generated by all the nodes during raft leader election.</li>
    <li>raft_pings_count: number of pings generated by the leader after elected to keep informed to the followers.</li>
    <li>raft_messages_size: size of the messages generated by every node during raft leader election.</li>
    <li>raft_average_medium_time: average time (nanoseconds) a message spends in the medium between sender and receiver.</li>
    <!-- <li>raft_winner_count: the amount of winners per each round. This value should always be 1, if is more than 1 it means that there is a case where the algorithm fails.</li> -->
    <li>raft_election_time_ms: refers to the time (ms) the process takes to converge, from starting the process to converging in a leader.</li>
    <!-- <li>raft_buffer_channel_time: refers to the average time (milliseconds?) the application takes to analyze each packet.</li> -->

    <li>router_messages_count: number of messages generated by all the nodes during the blockchain process.</li>
    <li>router_messages_size: size of the messages generated by every node during the blockchain process.</li>

    <li>router_query_propagation: time (ms) a query messages takes from being created to received by the last node.</li>
    <li>router_query_hops: amount of hops a query takes to cover all the network.</li>
    <li>router_query_complete: time (ms) a query messages takes to be completed from the router perspective.</li>

    <li>monitor_query_complete: time (ms) a query messages takes to be completed from the monitor perspective.</li>

    <li>monitor_block_valid_ratio: percentage of accuracy of the blockchain process.</li>

    <li>miner_mining_time_1: mining time (ms) including the election time.</li>
    <li>miner_mining_time_2: mining time (ns) it takes to validate the block without the election time.</li>

</ul>
    </p>

    <form class="ui form">
        <div class="field">
            <label>Property</label>
            <select class="ui fluid dropdown" name="property" id="selectProperty">
                <option value="raft_sent_messages - messages_count">raft_messages_count</option>
                <option value="raft_sent_messages - ping_count">raft_pings_count</option>
                <option value="raft_sent_messages - messages_size">raft_messages_size</option>
                <option value="raft_medium_time - average_medium_time">raft_average_medium_time</option>
                <!-- <option value="raft_elections - winner_count">raft_winner_count</option> -->
                <!-- <option value="raft_elections - winner_total">raft_winner_total</option> -->
                <option value="raft_elections - election_time_ms">raft_election_time_ms</option>
                <!-- <option value="raft_bufferchannel - buffer_channel_time">raft_buffer_channel_time</option> -->

                <option value="router_sent_messages - messages_count">router_messages_count</option>
                <!-- <option value="router_sent_messages - ping_count">router_pings_count</option> -->
                <option value="router_sent_messages - messages_size">router_messages_size</option>

                <option value="router_query_propagation - query_propagation_ms">router_query_propagation</option>
                <option value="router_query_propagation - query_hops">router_query_hops</option>
                <option value="router_query_completion - completion_time_ms">router_query_complete</option>

                <option value="monitor_query_complete - query_complete_ms">monitor_query_complete</option>

                <!-- <option value="monitor_accuracy - block_valid_ratio">monitor_block_valid_ratio</option> -->
                <option value="monitor_accuracy - block_valid_ratio_percentage">monitor_block_valid_ratio</option>

                <option value="miner_time1 - mining_time_1_ms">miner_mining_time_1</option>
                <option value="miner_time2 - mining_time_2_ns">miner_mining_time_2_ns</option>
            </select>
        </div>

        <div class="field">
            <label>Filter</label>
            <input type="text" name="filter" placeholder="Leave empty to fetch all ..." id="inputFilter">
        </div>

        <div class="field">
            <label>DB Name</label>
            <input type="text" name="db" placeholder="Database name, e.g. blockchain0, blockchain1,  ..." id="inputFilter">
        </div>

        <button class="ui button" ng-click="loadData()" id="refreshButton">Refresh</button>
    </form>

    <br>
    <hr>
    <br>

<table class="ui sortable celled table">
    <thead>
    <tr>
        <th>ID</th>
        <th>Min</th>
        <th>Max</th>
        <th>Avg</th>
        <th>SDP</th>
        <th>SDS</th>
        <th>Tout</th>
        <th>Nds</th>
        <th>Size</th>
        <th>Runs</th>
    </tr>
    </thead>
<tbody>

<tr ng-repeat="roll in sushi">
    <td>{{ roll.Id }}</td>
    <td>{{ roll.MinimumValue | number }}</td>
    <td>{{ roll.MaximumValue | number }}</td>
<td>{{ roll.AverageValue | number : 1 }}</td>
<td>{{ roll.StandardDeviationPValue | number : 1 }}</td>
<td>{{ roll.StandardDeviationSValue | number : 1 }}</td>
<td>{{ roll.Timeout }}</td>
<td>{{ roll.Nodes }}</td>
<td>{{ roll.Size }}</td>
<td>{{ roll.Runs }}</td>
</tr>

</tbody>

</table>

    <br>
    <br>

    <p>
    <ul>
        <li>Min: Minimum value from the sample</li>
        <li>Max: Maximum value from the sample</li>
        <li>Avg: Average value from the sample</li>
        <li>SDP: Calculates the population standard deviation of the input values. Use if the values encompass the entire population of data you want to represent and do not wish to generalize about a larger population.</li>
        <li>SDS: Calculates the sample standard deviation of the input values. Use if the values encompass a sample of a population of data from which to generalize about the population.</li>
        <li>Tout: Timeout in milliseconds utilized by the nodes to interact</li>
        <li>Nds: Number of nodes of the simulation</li>
        <li>Size: Size of the network in meters, seen as a square and this value represents the length in meters of one of its sides.</li>
        <li>Runs: Number of simulations ran</li>
    </ul>
    </p>

    <br>
    <br>

</div>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://semantic-ui.com/javascript/library/tablesort.js"></script>
<script src="custom.js"></script>
<script src="app.js"></script>
<script>
    $('document').ready(function () {
        $('table').tablesort()
    });
</script>
</body>

</html>
